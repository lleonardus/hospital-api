# ğŸ‘¨â€ğŸ’»Sobre o projeto
A api foi inspirada em um desafio tÃ©cnico da [Oli SaÃºde](https://github.com/olisaude/teste-dev-backend).

AtravÃ©s dessa api Ã© possÃ­vel criar, listar e atualizar clientes.

## ğŸ’¿Como rodar na sua mÃ¡quina
**PrÃ© requisitos**: Git, Docker + Docker-Compose (caso queira utilizar Docker) e Java 17 (caso queira utilizar o Maven)

### ğŸ’»Clone o repositÃ³rio e entre na pasta do projeto

```shell
$ git clone https://github.com/lleonardus/hospital-api.git
$ cd hospital
```
### ğŸ³Utilizando Docker
 ```shell
$ docker-compose up
```

### â™¨ï¸Utilizando Maven

```shell
$ ./mvnw spring-boot:run
```

ApÃ³s esse processo, a api vai estar rodando em **http://localhost:8080**
e o banco de dados (H2 database) pode ser acessado em **http://localhost:8080/h2-console/** 

## ğŸ—ºï¸Diagrama Entidade Relacionamento (Banco de dados)

![diagrama](images/diagrama.png)

## ğŸ¯Endpoints

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦Clients

- **GET** `/clients`: Lista todos os clientes registrados.
- **GET** `/clients/higher-health-risk`: Lista os clientes com maior risco de saÃºde. O risco Ã© medido atravÃ©s
da equaÃ§Ã£o **(1 / (1 + eË†-(-2.8 + sd ))) * 100**, onde **sd Ã© a soma dos graus das doenÃ§as de um cliente**.
O nÃºmero mÃ¡ximo de clientes que pode ser listado Ã© 10.
- **GET** `/clients/{id}`: Retorna uma tarefa em especÃ­fico.
- **POST** `/clients`: Cria um cliente.
- **PUT** `/clients/{id}`: Edita os campos nome, data de nascimento e gÃªnero do cliente.

### Exemplo de JSON para cadastrar cliente

```json
 {
        "name": "Lisa",
        "birthday": "2022-12-31",
        "gender": "FEMALE",
        "diseases": [
            {
                "name": "Diabetes",
                "degree": 2
            }
        ]
 }
```

### Exemplo de JSON para atualizar cliente

```json
 {
        "name": "Lisandro",
        "birthday": "2000-12-31",
        "gender": "MALE"
 }
```

## ğŸ§°Ferramentas utilizadas

- Java 17
- Spring Boot
- Spring Web
- Spring Data JPA
- H2 Database
- Docker
- Lombok
- Model Mapper

# ğŸ‘¨â€ğŸ’»Sobre o projeto
"Hospital" Ã© uma API REST que torna possÃ­vel criar, listar e atualizar clientes de um hospital.

A API foi inspirada em um desafio tÃ©cnico da [Oli SaÃºde](https://github.com/olisaude/teste-dev-backend).

## ğŸ’¿Como rodar na sua mÃ¡quina

### PrÃ© requisitos: 

- **Git**;
- **Docker + Docker-Compose (caso queira utilizar Docker)**;
- **Java 17 (caso queira utilizar o Maven)**

<details>
    <summary><b style="font-size:1.4em;">ğŸ³Utilizando Docker</b></summary>

```shell
# Clone o repositÃ³rio na sua mÃ¡quina
$ git clone https://github.com/lleonardus/hospital-api.git

# Abra a pasta do projeto
$ cd hospital-api

# Inicie o projeto usando Docker
$ docker-compose up
```

ApÃ³s esse processo, a API vai estar rodando em **http://localhost:8080**.

</details>

<details>
    <summary><b style="font-size:1.4em;">â™¨ï¸Utilizando Maven</b></summary>

 ```shell
# Clone o repositÃ³rio na sua mÃ¡quina
$ git clone https://github.com/lleonardus/hospital-api.git

# Abra a pasta do projeto
$ cd hospital-api

# Inicie o projeto usando Maven
$ ./mvnw spring-boot:run
```

ApÃ³s esse processo, a API vai estar rodando em **http://localhost:8080**
e o banco de dados (H2 database) pode ser acessado em **http://localhost:8080/h2-console/**

</details> 

## ğŸ—ºï¸Diagrama Entidade Relacionamento (Banco de dados)

![diagrama](images/diagrama.png)

## ğŸ¯Endpoints

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦Clients

- **GET** `/clients`: Lista todos os clientes registrados.
- **GET** `/clients/higher-health-risk`: Lista os 10 clientes com maior risco de saÃºde. O risco Ã© medido atravÃ©s
da equaÃ§Ã£o **(1 / (1 + eË†-(-2.8 + sd ))) * 100**, onde **sd Ã© a soma dos graus das doenÃ§as de um cliente**.

- **GET** `/clients/{id}`: Retorna um cliente em especÃ­fico.
- **POST** `/clients`: Cria um cliente.
- **PUT** `/clients/{id}`: Edita os campos nome, data de nascimento e gÃªnero de um cliente.

### Exemplo de JSON para cadastrar cliente

```json
 {
        "name": "Lisa",
        "birthday": "2022-12-31",
        "gender": "FEMALE",
        "diseases": [
            {
                "name": "Diabetes",
                "degree": 2
            }
        ]
 }
```

### Exemplo de JSON para atualizar cliente

```json
 {
        "name": "Lisandro",
        "birthday": "2000-12-31",
        "gender": "MALE"
 }
```

## ğŸ§°Ferramentas utilizadas

- Java 17
- Spring Boot
- Spring Web
- Spring Data JPA
- H2 Database
- Docker
- Lombok
- Model Mapper
